GDC_RELEASE_URL = (
    'https://docs.gdc.cancer.gov/Data/Release_Notes/Data_Release_Notes/'
)

# Map GDC project_id to Xena specific cohort name.
GDC_XENA_COHORT = {
    'TCGA-BRCA': 'GDC TCGA Breast Cancer (BRCA)',
    'TCGA-LUAD': 'GDC TCGA Lung Adenocarcinoma (LUAD)',
    'TCGA-UCEC': 'GDC TCGA Endometrioid Cancer (UCEC)',
    'TCGA-LGG': 'GDC TCGA Lower Grade Glioma (LGG)',
    'TCGA-HNSC': 'GDC TCGA Head and Neck Cancer (HNSC)',
    'TCGA-PRAD': 'GDC TCGA Prostate Cancer (PRAD)',
    'TCGA-LUSC': 'GDC TCGA Lung Squamous Cell Carcinoma (LUSC)',
    'TCGA-THCA': 'GDC TCGA Thyroid Cancer (THCA)',
    'TCGA-SKCM': 'GDC TCGA Melanoma (SKCM)',
    'TCGA-OV': 'GDC TCGA Ovarian Cancer (OV)',
    'TCGA-STAD': 'GDC TCGA Stomach Cancer (STAD)',
    'TCGA-COAD': 'GDC TCGA Colon Cancer (COAD)',
    'TCGA-BLCA': 'GDC TCGA Bladder Cancer (BLCA)',
    'TCGA-GBM': 'GDC TCGA Glioblastoma (GBM)',
    'TCGA-LIHC': 'GDC TCGA Liver Cancer (LIHC)',
    'TCGA-KIRC': 'GDC TCGA Kidney Clear Cell Carcinoma (KIRC)',
    'TCGA-CESC': 'GDC TCGA Cervical Cancer (CESC)',
    'TCGA-KIRP': 'GDC TCGA Kidney Papillary Cell Carcinoma (KIRP)',
    'TCGA-SARC': 'GDC TCGA Sarcoma (SARC)',
    'TCGA-ESCA': 'GDC TCGA Esophageal Cancer (ESCA)',
    'TCGA-PAAD': 'GDC TCGA Pancreatic Cancer (PAAD)',
    'TCGA-PCPG': 'GDC TCGA Pheochromocytoma & Paraganglioma (PCPG)',
    'TCGA-READ': 'GDC TCGA Rectal Cancer (READ)',
    'TCGA-TGCT': 'GDC TCGA Testicular Cancer (TGCT)',
    'TCGA-LAML': 'GDC TCGA Acute Myeloid Leukemia (LAML)',
    'TCGA-THYM': 'GDC TCGA Thymoma (THYM)',
    'TCGA-ACC': 'GDC TCGA Adrenocortical Cancer (ACC)',
    'TCGA-MESO': 'GDC TCGA Mesothelioma (MESO)',
    'TCGA-UVM': 'GDC TCGA Ocular melanomas (UVM)',
    'TCGA-KICH': 'GDC TCGA Kidney Chromophobe (KICH)',
    'TCGA-UCS': 'GDC TCGA Uterine Carcinosarcoma (UCS)',
    'TCGA-CHOL': 'GDC TCGA Bile Duct Cancer (CHOL)',
    'TCGA-DLBC': 'GDC TCGA Large B-cell Lymphoma (DLBC)',
}

# Map xena_dtype to corresponding metadata template.
METADATA_TEMPLATE = {
    'htseq_counts': 'template.rna.meta.json',
    'htseq_fpkm': 'template.rna.meta.json',
    'htseq_fpkm-uq': 'template.rna.meta.json',
    'mirna': 'template.mirna.meta.json',
    'mirna_isoform': 'template.mirna_isoform.meta.json',
    'cnv': 'template.cnv.meta.json',
    'masked_cnv': 'template.cnv.meta.json',
    'muse_snv': 'template.snv.meta.json',
    'mutect2_snv': 'template.snv.meta.json',
    'somaticsniper_snv': 'template.snv.meta.json',
    'varscan2_snv': 'template.snv.meta.json',
    'GDC_phenotype': 'template.phenotype.meta.json',
    'Xena_phenotype': 'template.api_phenotype.meta.json',
    'survival': 'template.survival.meta.json',
    'gistic': 'template.gistic.meta.json',
    'star_counts': 'template.rna.meta.json',
    'methylation27': 'template.methylation.meta.json',
    'methylation450': 'template.methylation.meta.json',
}

# Jinja2 template variables for corresponding "xena_dtype".
METADATA_VARIABLES = {
    'htseq_counts': {'gdc_type': 'HTSeq - Counts'},
    'htseq_fpkm': {'gdc_type': 'HTSeq - FPKM', 'unit': 'fpkm'},
    'htseq_fpkm-uq': {'gdc_type': 'HTSeq - FPKM-UQ', 'unit': 'fpkm-uq'},
    'mirna': {'gdc_type': 'miRNA Expression Quantification'},
    'mirna_isoform': {'gdc_type': 'Isoform Expression Quantification'},
    'cnv': {'gdc_type': 'Copy Number Segment'},
    'masked_cnv': {'gdc_type': 'Masked Copy Number Segment'},
    'muse_snv': {'gdc_type': 'MuSE Variant Aggregation and Masking'},
    'mutect2_snv': {'gdc_type': 'MuTect2 Variant Aggregation and Masking'},
    'somaticsniper_snv': {
        'gdc_type': 'SomaticSniper Variant Aggregation and Masking'
    },
    'varscan2_snv': {'gdc_type': 'VarScan2 Variant Aggregation and Masking'},
    'gistic': {'gdc_type': 'GISTIC - focal score by gene'},
    'star_counts': {'gdc_type': 'STAR - Counts'},
    'methylation27': {'platform_num': '27'},
    'methylation450': {'platform_num': '450'},
    'Xena_phenotype': {
        'CPTAC_desc': (
            "Some submitter_ids in the GDC appear to be UUIDs (see an example "
            "here: https://portal.gdc.cancer.gov/cases/4c241b93-c11c-4802-94a7-07f125267ba3 "  # noqa: E501
            "and one with a UUID as submitter_id: https://portal.gdc.cancer.gov/cases/ba0fe300-d3f0-42fd-b609-3ee3d0e49d7b)."  # noqa: E501
        ),
    }
}
valid_dtype = [
    'htseq_counts',
    'htseq_fpkm',
    'htseq_fpkm-uq',
    'mirna',
    'cnv',
    'masked_cnv',
    'muse_snv',
    'mutect2_snv',
    'somaticsniper_snv',
    'varscan2_snv',
    'GDC_phenotype',
    'Xena_phenotype',
    'survival',
    'gistic',
    'star_counts',
    'methylation27',
    'methylation450',
]
CASES_FIELDS_EXPANDS = {
    "CPTAC-3": {
        "fields": [
            "case_id",
            "demographic.cause_of_death",
            "demographic.days_to_birth",
            "demographic.days_to_death",
            "demographic.demographic_id",
            "demographic.ethnicity",
            "demographic.gender",
            "demographic.race",
            "demographic.submitter_id",
            "demographic.vital_status",
            "demographic.year_of_birth",
            "demographic.year_of_death",
            "diagnoses.age_at_diagnosis",
            "diagnoses.ajcc_clinical_m",
            "diagnoses.ajcc_pathologic_m",
            "diagnoses.ajcc_pathologic_n",
            "diagnoses.ajcc_pathologic_stage",
            "diagnoses.ajcc_pathologic_t",
            "diagnoses.ajcc_staging_system_edition",
            "diagnoses.classification_of_tumor",
            "diagnoses.days_to_last_follow_up",
            "diagnoses.days_to_last_known_disease_status",
            "diagnoses.days_to_recurrence",
            "diagnoses.diagnosis_id",
            "diagnoses.last_known_disease_status",
            "diagnoses.lymph_nodes_positive",
            "diagnoses.morphology",
            "diagnoses.primary_diagnosis",
            "diagnoses.prior_malignancy",
            "diagnoses.progression_or_recurrence",
            "diagnoses.residual_disease",
            "diagnoses.site_of_resection_or_biopsy",
            "diagnoses.submitter_id",
            "diagnoses.tissue_or_organ_of_origin",
            "diagnoses.tumor_grade",
            "diagnoses.tumor_largest_dimension_diameter",
            "diagnoses.tumor_stage",
            "diagnoses.year_of_diagnosis",
            "disease_type",
            "exposures.alcohol_history",
            "exposures.alcohol_intensity",
            "exposures.bmi",
            "exposures.cigarettes_per_day",
            "exposures.exposure_id",
            "exposures.height",
            "exposures.pack_years_smoked",
            "exposures.submitter_id",
            "exposures.tobacco_smoking_onset_year",
            "exposures.tobacco_smoking_quit_year",
            "exposures.tobacco_smoking_status",
            "exposures.weight",
            "exposures.years_smoked",
            "primary_site",
            "samples.composition",
            "samples.current_weight",
            "samples.days_to_sample_procurement",
            "samples.freezing_method",
            "samples.initial_weight",
            "samples.is_ffpe",
            "samples.longest_dimension",
            "samples.oct_embedded",
            "samples.preservation_method",
            "samples.sample_id",
            "samples.sample_type",
            "samples.sample_type_id",
            "samples.submitter_id",
            "samples.time_between_excision_and_freezing",
            "samples.tissue_type",
            "samples.tumor_code",
            "samples.tumor_descriptor",
        ],
        "expand": [],
    }
}
